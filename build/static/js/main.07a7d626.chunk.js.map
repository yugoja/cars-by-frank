{"version":3,"sources":["components/Header.js","util/applySortingAndFiltering.js","service/carDataService.js","util/currencyFormatter.js","components/car-list.js","components/cart-element.js","components/car-details.js","App.js","serviceWorker.js","index.js"],"names":["Header","to","className","path","applySortingAndFiltering","cars","searchInput","filterCriteria","sort","a","b","Date","date_added","filteredCars","filter","car","carMakers","selectedCarMaker","make","carMaker","name","selected","length","yearFrom","year_model","yearTo","priceFrom","price","priceTo","toLowerCase","includes","model","formatCarsData","carsData","carMakersList","forEach","inventory","vehicles","warehouse","location","indexOf","push","carMakerIdCounter","map","id","prepareCarMakersData","fetch","data","json","currencyFormatter","Intl","NumberFormat","style","currency","CarList","html","handleToggleFilterPanel","this","toggleFilterPanel","index","handleCarMakerFilterChange","evt","changeAgeRange","changePriceRange","onSearchChange","goToCarDetails","_id","licenced","format","type","Array","Object","String","Boolean","Function","LitElement","customElements","define","CartElement","cart","cartTotal","cartItem","cartItemDetails","find","parseInt","carId","parseFloat","quantity","CarDetails","pathArray","window","pathname","split","selectedCarId","lat","long","licensed","addToBookmark","addToCart","goToCart","App","props","state","history","setState","target","value","carMakerId","slice","rangeType","ageType","getCarDetails","carIndex","findIndex","carToAdd","bookmarks","localStorage","getItem","JSON","parse","setItem","stringify","myRef","React","createRef","carDataService","then","carData","current","exact","ref","children","Component","withRouter","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.07a7d626.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport { Route, Link } from \"react-router-dom\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header>\r\n      <Link to=\"/\">\r\n        <h2 className=\"logo\">Cars By Frank</h2>\r\n      </Link>\r\n\r\n      <div className=\"header-button\">\r\n        <Route path=\"/(cart|car-details)/\">\r\n          <Link to=\"/\">\r\n            <button>Home</button>\r\n          </Link>\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Link to=\"/cart\">\r\n            <button>Cart</button>\r\n          </Link>\r\n        </Route>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","function isCarMakerSelected(carMakers, selectedCarMaker) {\r\n  return (\r\n    carMakers.filter(\r\n      (carMaker) => carMaker.name === selectedCarMaker && carMaker.selected\r\n    ).length > 0\r\n  );\r\n}\r\n\r\n/* Takes cars data, filter criteria applied in the filter panel and search box input.\r\nSorts the cars data in ascending order by date_added field. Filters out the data based\r\nvarious filter criteria */\r\n\r\nexport default function applySortingAndFiltering({\r\n  cars,\r\n  searchInput,\r\n  filterCriteria,\r\n}) {\r\n  cars.sort(function (a, b) {\r\n    return new Date(a.date_added) - new Date(b.date_added);\r\n  });\r\n\r\n  /* Keep cars whose car maker is seleted in filter panel */\r\n  let filteredCars = cars.filter((car) =>\r\n    isCarMakerSelected(filterCriteria.carMakers, car.make)\r\n  );\r\n\r\n  if (filterCriteria.yearFrom.length) {\r\n    filteredCars = filteredCars.filter((car) => {\r\n      return car.year_model >= filterCriteria.yearFrom;\r\n    });\r\n  }\r\n\r\n  if (filterCriteria.yearTo.length) {\r\n    filteredCars = filteredCars.filter((car) => {\r\n      return car.year_model <= filterCriteria.yearTo;\r\n    });\r\n  }\r\n\r\n  if (filterCriteria.priceFrom.length) {\r\n    filteredCars = filteredCars.filter((car) => {\r\n      return car.price >= filterCriteria.priceFrom;\r\n    });\r\n  }\r\n\r\n  if (filterCriteria.priceTo.length) {\r\n    filteredCars = filteredCars.filter((car) => {\r\n      return car.price <= filterCriteria.priceTo;\r\n    });\r\n  }\r\n\r\n  if (searchInput.length) {\r\n    return filteredCars.filter(\r\n      (car) =>\r\n        car.make.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        car.model.toLowerCase().includes(searchInput.toLowerCase())\r\n    );\r\n  } else {\r\n    return filteredCars;\r\n  }\r\n}\r\n","/* Takes list of carMakers and prepares alphabetically ordered\r\nlist of carMakersobjects to be used in the filter panel */\r\n\r\nfunction prepareCarMakersData(carMakers) {\r\n  let carMakerIdCounter = 0;\r\n\r\n  return carMakers\r\n    .sort((a, b) => {\r\n      if (a < b) {\r\n        return -1;\r\n      } else if (a > b) {\r\n        return 1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    })\r\n    .map((carMaker) => ({\r\n      name: carMaker,\r\n      selected: true,\r\n      id: carMakerIdCounter++,\r\n    }));\r\n}\r\n\r\n/* formats inventory based car data returned by the API into an flattened array which\r\ncontains list of cars with each car is updated with warehouse and location information */\r\n\r\nfunction formatCarsData(carsData) {\r\n  const cars = [];\r\n  const carMakersList = [];\r\n\r\n  carsData.forEach((inventory) => {\r\n    inventory.cars.vehicles.forEach((car) => {\r\n      car.warehouse = inventory.name;\r\n      car.location = inventory.location;\r\n\r\n      if (carMakersList.indexOf(car.make) === -1) {\r\n        carMakersList.push(car.make);\r\n      }\r\n    });\r\n\r\n    cars.push(...inventory.cars.vehicles);\r\n  });\r\n\r\n  const carMakers = prepareCarMakersData(carMakersList);\r\n\r\n  return { cars, carMakers };\r\n}\r\n\r\n/* an asyc function which calls the API, formats the data and\r\nreturns the promise based result for component to consume */\r\n\r\nexport default async function carDataService() {\r\n  const data = await fetch(\"https://api.jsonbin.io/b/5ebe673947a2266b1478d892\");\r\n  const carsData = await data.json();\r\n  return formatCarsData(carsData);\r\n}\r\n","var currencyFormatter = new Intl.NumberFormat(\"en-US\", {\r\nstyle: \"currency\",\r\ncurrency: \"USD\",\r\n});\r\n\r\nexport default currencyFormatter;","import { LitElement, html } from \"lit-element\";\r\nimport currencyFormatter from \"../util/currencyFormatter\";\r\n\r\nclass CarList extends LitElement {\r\n  constructor() {\r\n    super();\r\n\r\n    this.cars = [];\r\n    this.searchInput = '';\r\n  }\r\n  static get properties() {\r\n    return {\r\n      cars: { type: Array },\r\n      filterCriteria: { type: Object },\r\n      searchInput: { type: String },\r\n      toggleFilterPanel: { type: Boolean },\r\n      onSearchChange: { type: Function },\r\n      changePriceRange: { type: Function },\r\n      handleCarMakerFilterChange: { type: Function },\r\n      changeAgeRange: { type: Function },\r\n      handleToggleFilterPanel: { type: Function },\r\n      goToCarDetails: { type: Function },\r\n    };\r\n  }\r\n  render() {\r\n    return html`\r\n      <style>\r\n        * {\r\n          box-sizing: border-box;\r\n          margin: 0;\r\n          padding: 0;\r\n        }\r\n        a {\r\n          text-decoration: none;\r\n          color: inherit;\r\n        }\r\n        button {\r\n          background: white;\r\n          outline: none;\r\n          border: 1px solid #908c8c;\r\n          cursor: pointer;\r\n          padding: 0px 10px;\r\n        }\r\n        button:hover {\r\n          background: #f3e5f5;\r\n          color: black;\r\n        }\r\n        button:disabled {\r\n          pointer-events: none;\r\n        }\r\n        body {\r\n          margin: 0;\r\n          font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\",\r\n            \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\",\r\n            \"Helvetica Neue\", sans-serif;\r\n          -webkit-font-smoothing: antialiased;\r\n          -moz-osx-font-smoothing: grayscale;\r\n        }\r\n\r\n        code {\r\n          font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\r\n            monospace;\r\n        }\r\n\r\n        /* cars home page */\r\n        .cars-list_container {\r\n          padding: 20px 0 0 10px;\r\n          display: flex;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        /** Filtering panel **/\r\n        .filtering-panel {\r\n          flex: 0 0 200px;\r\n          border-right: 1px solid #eee;\r\n        }\r\n\r\n        .filtering-panel h3 {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          padding: 0 5px;\r\n        }\r\n\r\n        #toggle-filter-panel {\r\n          display: none;\r\n        }\r\n\r\n        #car-maker-list {\r\n          max-height: 200px;\r\n          overflow: auto;\r\n        }\r\n\r\n        .filtering-panel .filter-title {\r\n          margin: 15px 0 5px;\r\n        }\r\n\r\n        .search-panel {\r\n          margin: 0 0 20px 0;\r\n          line-height: 0;\r\n        }\r\n\r\n        .search-panel input#car-search-box {\r\n          width: 300px;\r\n          font-size: 12px;\r\n          height: 25px;\r\n          padding: 0 5px;\r\n        }\r\n\r\n        .cars-grid {\r\n          padding: 0 0 0 10px;\r\n        }\r\n        .cars-list {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          list-style: none;\r\n          margin: 0;\r\n          padding: 0;\r\n        }\r\n\r\n        .car-card {\r\n          width: 200px;\r\n          margin: 0 10px 10px 0;\r\n          padding: 10px;\r\n          background: #f3e5f5;\r\n        }\r\n\r\n        .car-card:hover {\r\n          background: #d36de4;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .car-card .maker-date {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n        }\r\n\r\n        .car-card .car-maker {\r\n          font-size: 16px;\r\n        }\r\n\r\n        .car-card .car-model {\r\n          font-weight: bold;\r\n          font-size: 18px;\r\n        }\r\n\r\n        .car-card .car-details {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 12px;\r\n          margin: 18px 0 0 0;\r\n        }\r\n\r\n        .car-card .date-added {\r\n          text-align: right;\r\n          font-size: 10px;\r\n        }\r\n\r\n        .car-card .add-to-card_btn button {\r\n          background: white;\r\n          outline: none;\r\n          border: 1px solid;\r\n          line-height: 1.1;\r\n        }\r\n\r\n        @media screen and (max-width: 460px) {\r\n          .car-details_container {\r\n            flex-direction: column;\r\n          }\r\n          .cars-list_container {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .filtering-panel {\r\n            margin: 0 0 15px 12px;\r\n            flex: 0 0 0;\r\n          }\r\n\r\n          #toggle-filter-panel {\r\n            display: block;\r\n          }\r\n\r\n          .search-panel input#car-search-box {\r\n            width: 95%;\r\n          }\r\n\r\n          .cars-list {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .car-card {\r\n            width: 95%;\r\n          }\r\n\r\n          .car-photo {\r\n            width: 95%;\r\n            margin-bottom: 15px;\r\n          }\r\n\r\n          .car-details {\r\n            margin-bottom: 25px;\r\n          }\r\n        }\r\n      </style>\r\n\r\n      <div class=\"cars-list_container\">\r\n        <div class=\"filtering-panel\">\r\n          <h3>\r\n            Filters\r\n            <button\r\n              id=\"toggle-filter-panel\"\r\n              @click=${() => this.handleToggleFilterPanel()}\r\n            >\r\n              ${this.toggleFilterPanel ? \"-\" : \"+\"}\r\n            </button>\r\n          </h3>\r\n\r\n          ${this.toggleFilterPanel\r\n            ? html`\r\n                <div class=\"filtering-panel_wrapper\">\r\n                  <h4 class=\"filter-title\">Car Maker</h4>\r\n                  <ul id=\"car-maker-list\">\r\n                    ${this.filterCriteria.carMakers.map(\r\n                      (carMaker, index) => html`\r\n                        <li key=\"{index}\">\r\n                          <label htmlFor=\"{carMaker.name}\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              .name=\"${carMaker.name}\"\r\n                              .id=\"${carMaker.name}\"\r\n                              ?checked=\"${carMaker.selected}\"\r\n                              @change=\"${() =>\r\n                                this.handleCarMakerFilterChange(carMaker.id)}\"\r\n                            />\r\n                            ${carMaker.name}\r\n                          </label>\r\n                        </li>\r\n                      `\r\n                    )}\r\n                  </ul>\r\n\r\n                  <h4 class=\"filter-title\">Car Model Year</h4>\r\n                  <div class=\"make-year-range\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"From\"\r\n                      value=${this.filterCriteria.yearFrom}\r\n                      @input=${(evt) => this.changeAgeRange(evt, \"from\")}\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"To\"\r\n                      value=${this.filterCriteria.yearTo}\r\n                      @input=${(evt) => this.changeAgeRange(evt, \"to\")}\r\n                    />\r\n                  </div>\r\n\r\n                  <h4 class=\"filter-title\">Price Range</h4>\r\n                  <div class=\"make-year-range\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"From\"\r\n                      value=${this.filterCriteria.priceFrom}\r\n                      @input=${(evt) => this.changePriceRange(evt, \"from\")}\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"To\"\r\n                      value=${this.filterCriteria.priceTo}\r\n                      @input=${(evt) => this.changePriceRange(evt, \"to\")}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              `\r\n            : html``}\r\n        </div>\r\n\r\n        <div class=\"cars-grid\">\r\n          <div class=\"search-panel\">\r\n            <input\r\n              id=\"car-search-box\"\r\n              type=\"text\"\r\n              placeholder=\"Search Car Model or Maker\"\r\n              @input=${(evt) => this.onSearchChange(evt)}\r\n              value=${this.searchInput}\r\n            />\r\n          </div>\r\n\r\n          <ul class=\"cars-list\">\r\n            ${this.cars.map(\r\n              (car) => html`\r\n                <a href=\"#\" @click=${() => this.goToCarDetails(car._id)}>\r\n                  <li class=\"car-card\">\r\n                    <div class=\"maker-date\">\r\n                      <div class=\"car-maker\">${car.make}</div>\r\n                      <div class=\"date-added\">${car.date_added}</div>\r\n                    </div>\r\n                    <div class=\"car-model\">${car.model}</div>\r\n                    <div class=\"licenced\">${car.licenced}</div>\r\n                    <div class=\"car-details\">\r\n                      <span class=\"year_model\">${car.year_model}</span>\r\n                      <span class=\"price\">\r\n                        ${currencyFormatter.format(car.price)}\r\n                      </span>\r\n                    </div>\r\n                  </li>\r\n                </a>\r\n              `\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ncustomElements.define(\"car-list\", CarList);\r\n","import { LitElement, html } from \"lit-element\";\r\nimport currencyFormatter from \"../util/currencyFormatter\";\r\n\r\nclass CartElement extends LitElement {\r\n  constructor() {\r\n    super();\r\n\r\n    this.cart = [];\r\n    this.cars = [];\r\n  }\r\n  static get properties() {\r\n    return {\r\n      cart: { type: Array },\r\n      cars: { type: Array },\r\n    };\r\n  }\r\n  render() {\r\n    let cartTotal = 0;\r\n\r\n    return html`\r\n      <style>\r\n        * {\r\n          box-sizing: border-box;\r\n          margin: 0;\r\n          padding: 0;\r\n        }\r\n        a {\r\n          text-decoration: none;\r\n          color: inherit;\r\n        }\r\n        button {\r\n          background: white;\r\n          outline: none;\r\n          border: 1px solid #908c8c;\r\n          cursor: pointer;\r\n          padding: 0px 10px;\r\n        }\r\n        button:hover {\r\n          background: #f3e5f5;\r\n          color: black;\r\n        }\r\n        button:disabled {\r\n          pointer-events: none;\r\n        }\r\n        body {\r\n          margin: 0;\r\n          font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\",\r\n            \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\",\r\n            \"Helvetica Neue\", sans-serif;\r\n          -webkit-font-smoothing: antialiased;\r\n          -moz-osx-font-smoothing: grayscale;\r\n        }\r\n\r\n        code {\r\n          font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\r\n            monospace;\r\n        }\r\n\r\n        /* cart  */\r\n        .cart_container {\r\n          padding: 15px;\r\n        }\r\n        .cart_container h2 {\r\n          margin-bottom: 20px;\r\n        }\r\n        .cart_container ul {\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n\r\n        .cart_container ul li {\r\n          display: flex;\r\n          padding: 0 5px;\r\n        }\r\n        .cart_container ul li:first-child {\r\n          font-weight: bold;\r\n          background: #e7b4f0;\r\n          padding: 5px 10px;\r\n        }\r\n\r\n        .cart_container ul li:last-child {\r\n          border-top: 1px solid #eee;\r\n          margin-top: 10px;\r\n          padding-top: 5px;\r\n        }\r\n\r\n        .cart_container .cart-item {\r\n          margin-right: 5px;\r\n          width: 20%;\r\n        }\r\n\r\n        .cart_container ul li .cart-item:first-child {\r\n          width: 40%;\r\n        }\r\n\r\n        .cart_container .cart-total {\r\n          border-top: 1px solid #eee;\r\n          margin-top: 10px;\r\n          text-align: right;\r\n          padding-right: 90px;\r\n        }\r\n\r\n        @media screen and (max-width: 460px) {\r\n          .car-details_container {\r\n            flex-direction: column;\r\n          }\r\n          .cars-list_container {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .filtering-panel {\r\n            margin-bottom: 15px;\r\n            flex: 0 0 0;\r\n          }\r\n\r\n          #toggle-filter-panel {\r\n            display: block;\r\n          }\r\n\r\n          .search-panel input#car-search-box {\r\n            width: 95%;\r\n          }\r\n\r\n          .cars-list {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .car-card {\r\n            width: 95%;\r\n          }\r\n\r\n          .car-photo {\r\n            width: 95%;\r\n            margin-bottom: 15px;\r\n          }\r\n\r\n          .car-details {\r\n            margin-bottom: 25px;\r\n          }\r\n        }\r\n      </style>\r\n      <div class=\"cart_container\">\r\n        <h2>Cart</h2>\r\n        <ul>\r\n          <li>\r\n            <span class=\"cart-item\">Car Name</span>\r\n            <span class=\"cart-item\">Price</span>\r\n            <span class=\"cart-item\">Quantity</span>\r\n            <span class=\"cart-item\">Total Price</span>\r\n          </li>\r\n          ${this.cart.map((cartItem, index) => {\r\n            const cartItemDetails = this.cars.length\r\n              ? this.cars.find((car) => car._id === parseInt(cartItem.carId))\r\n              : { make: \"\", model: \"\", price: \"\" };\r\n\r\n            cartTotal =\r\n              cartTotal + parseFloat(cartItemDetails.price) * cartItem.quantity;\r\n\r\n            return html`\r\n              <li key=\"{index}\">\r\n                <span class=\"cart-item title\">${cartItemDetails.model}</span>\r\n                <span class=\"cart-item price\">\r\n                  ${currencyFormatter.format(cartItemDetails.price)}\r\n                </span>\r\n                <span class=\"cart-item quantity\">${cartItem.quantity}</span>\r\n                <span class=\"cart-item cart-item-totalprice\">\r\n                  ${currencyFormatter.format(\r\n                    parseFloat(cartItemDetails.price) * cartItem.quantity\r\n                  )}\r\n                </span>\r\n              </li>\r\n            `;\r\n          })}\r\n          <li>\r\n            <span class=\"cart-item\"></span>\r\n            <span class=\"cart-item\"></span>\r\n            <span class=\"cart-item\">Total Price</span>\r\n            <span class=\"cart-item\">\r\n              ${currencyFormatter.format(cartTotal)}\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ncustomElements.define(\"cart-element\", CartElement);\r\n","import { LitElement, html } from \"lit-element\";\r\n\r\nimport currencyFormatter from \"../util/currencyFormatter\";\r\n\r\nclass CarDetails extends LitElement {\r\n  constructor() {\r\n    super();\r\n\r\n    this.cars = [];\r\n  }\r\n  static get properties() {\r\n    return {\r\n      cars: { type: Array },\r\n      addToCart: { type: Function },\r\n      addToBookmark: { type: Function },\r\n      goToCart: { type: Function },\r\n    };\r\n  }\r\n  render() {\r\n    const pathArray = window.location.pathname.split(\"/\");\r\n    const selectedCarId = pathArray[pathArray.length - 1];\r\n\r\n    const CarDetails = this.cars.length\r\n      ? this.cars.find((car) => car._id === parseInt(selectedCarId))\r\n      : {\r\n          date_added: \"\",\r\n          location: { lat: \"\", long: \"\" },\r\n          make: \"\",\r\n          model: \"\",\r\n          price: \"\",\r\n          warehouse: \"\",\r\n          year_model: \"\",\r\n          _id: 0,\r\n          licensed: false,\r\n        };\r\n\r\n    return html`\r\n      <style>\r\n        * {\r\n          box-sizing: border-box;\r\n          margin: 0;\r\n          padding: 0;\r\n        }\r\n        a {\r\n          text-decoration: none;\r\n          color: inherit;\r\n        }\r\n        button {\r\n          background: white;\r\n          outline: none;\r\n          border: 1px solid #908c8c;\r\n          cursor: pointer;\r\n          padding: 0px 10px;\r\n        }\r\n        button:hover {\r\n          background: #f3e5f5;\r\n          color: black;\r\n        }\r\n        button:disabled {\r\n          pointer-events: none;\r\n        }\r\n        body {\r\n          margin: 0;\r\n          font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\",\r\n            \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\",\r\n            \"Helvetica Neue\", sans-serif;\r\n          -webkit-font-smoothing: antialiased;\r\n          -moz-osx-font-smoothing: grayscale;\r\n        }\r\n\r\n        code {\r\n          font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\r\n            monospace;\r\n        }\r\n\r\n        /* Car Details */\r\n        .car-details_container {\r\n          display: flex;\r\n          margin: 20px 0 0 20px;\r\n        }\r\n        .car-photo {\r\n          width: 50%;\r\n          height: 300px;\r\n          border: 1px solid #f3e5f5;\r\n          padding: 15px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          background: #f3e5f5;\r\n        }\r\n        .car-details_container .car-details {\r\n          padding: 0 15px;\r\n        }\r\n        .car-details_container .car-maker {\r\n          font-weight: bold;\r\n        }\r\n        .car-details_container .car-model {\r\n          font-size: 36px;\r\n        }\r\n        .car-details_container .label {\r\n          width: 100px;\r\n          display: inline-block;\r\n        }\r\n        .car-details_container .action-buttons {\r\n          margin: 119px 0 0 0;\r\n          display: flex;\r\n          justify-content: space-between;\r\n        }\r\n\r\n        .car-details_container .action-buttons button {\r\n          padding: 5px 10px;\r\n          margin-right: 10px;\r\n        }\r\n\r\n        @media screen and (max-width: 460px) {\r\n          .car-details_container {\r\n            flex-direction: column;\r\n          }\r\n          .cars-list_container {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .filtering-panel {\r\n            margin-bottom: 15px;\r\n            flex: 0 0 0;\r\n          }\r\n\r\n          #toggle-filter-panel {\r\n            display: block;\r\n          }\r\n\r\n          .search-panel input#car-search-box {\r\n            width: 95%;\r\n          }\r\n\r\n          .cars-list {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .car-card {\r\n            width: 95%;\r\n          }\r\n\r\n          .car-photo {\r\n            width: 95%;\r\n            margin-bottom: 15px;\r\n          }\r\n\r\n          .car-details {\r\n            margin-bottom: 25px;\r\n          }\r\n        }\r\n      </style>\r\n      <div class=\"car-details_container\">\r\n        <div class=\"car-photo\">Car Photo Goes Here!</div>\r\n        <div class=\"car-details\">\r\n          <div class=\"car-maker\">${CarDetails.make}</div>\r\n          <div class=\"car-model\">${CarDetails.model}</div>\r\n          <div class=\"car-model-year\">\r\n            <span class=\"label\">Model Year:</span>\r\n            <b>${CarDetails.year_model}</b>\r\n          </div>\r\n          <div class=\"price\">\r\n            <span class=\"label\">Price:</span>\r\n            <b>${currencyFormatter.format(CarDetails.price)}</b>\r\n          </div>\r\n          <div class=\"warehouse\">\r\n            <span class=\"label\">Location:</span> <b>${CarDetails.warehouse}</b>\r\n          </div>\r\n          <div class=\"date-added\">\r\n            <span class=\"label\">Date Added:</span>\r\n            <b>${CarDetails.date_added}</b>\r\n          </div>\r\n          <div class=\"action-buttons\">\r\n            <button @click=${() => this.addToBookmark(CarDetails._id)}>\r\n              Add To Bookmark\r\n            </button>\r\n            <button\r\n              ?disabled=${!CarDetails.licensed}\r\n              @click=${() => this.addToCart(CarDetails._id)}\r\n            >\r\n              Add To Cart\r\n            </button>\r\n            <button @click=${() => this.goToCart()}>Go To Cart</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ncustomElements.define(\"car-details\", CarDetails);\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\n\r\nimport Header from \"./components/Header\";\r\n\r\n\r\nimport applySortingAndFiltering from \"./util/applySortingAndFiltering\";\r\nimport carDataService from \"./service/carDataService\";\r\n\r\nimport \"./components/car-list.js\";\r\nimport \"./components/cart-element.js\";\r\nimport \"./components/car-details.js\";\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    cars: [],\r\n    searchInput: \"\",\r\n    filterCriteria: {\r\n      carMakers: [],\r\n      yearFrom: \"\",\r\n      yearTo: \"\",\r\n      priceFrom: \"\",\r\n      priceTo: \"\",\r\n    },\r\n    cart: [],\r\n    toggleFilterPanel: true,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.myRef = React.createRef();\r\n    this.props = props;\r\n  }\r\n\r\n  /* On app load, calls the carDataService to get the formatted cars data */\r\n  componentDidMount() {\r\n    carDataService().then((carData) => {\r\n      this.setState({\r\n        ...this.state,\r\n        cars: carData.cars,\r\n        filterCriteria: {\r\n          ...this.state.filterCriteria,\r\n          carMakers: carData.carMakers,\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.location.pathname === \"/\") {\r\n      this.myRef.current.cars = applySortingAndFiltering(this.state);;\r\n      this.myRef.current.filterCriteria = this.state.filterCriteria;\r\n      this.myRef.current.searchInput = this.state.searchInput;\r\n      this.myRef.current.toggleFilterPanel = this.state.toggleFilterPanel;\r\n      this.myRef.current.onSearchChange = this.onSearchChange;\r\n      this.myRef.current.changePriceRange = this.changePriceRange;\r\n      this.myRef.current.handleCarMakerFilterChange = this.handleCarMakerFilterChange;\r\n      this.myRef.current.changeAgeRange = this.changeAgeRange;\r\n      this.myRef.current.handleToggleFilterPanel = this.handleToggleFilterPanel;\r\n      this.myRef.current.goToCarDetails = this.goToCarDetails;\r\n    }\r\n\r\n    if (this.props.location.pathname === \"/cart\") {\r\n      this.myRef.current.cars = this.state.cars;\r\n      this.myRef.current.cart = this.state.cart;\r\n    }\r\n\r\n    if (this.props.location.pathname.includes(\"/car-details\")) {\r\n      this.myRef.current.cars = this.state.cars;\r\n      this.myRef.current.addToCart = this.addToCart;\r\n      this.myRef.current.addToBookmark = this.addToBookmark;\r\n      this.myRef.current.goToCart = this.goToCart;\r\n    }\r\n  }\r\n\r\n  goToCart = () => {\r\n    this.props.history.push(\"/cart\");\r\n  };\r\n\r\n  goToCarDetails = (carId) => {\r\n    this.props.history.push(`/car-details/${carId}`);\r\n  };\r\n\r\n  /* Change hanlder for search box on home page */\r\n  onSearchChange = (evt) => {\r\n    this.setState({\r\n      ...this.state,\r\n      searchInput: evt.target.value,\r\n    });\r\n  };\r\n\r\n  /* Change handler for car maker filter in filter panel on home page */\r\n  handleCarMakerFilterChange = (carMakerId) => {\r\n    this.setState({\r\n      ...this.state,\r\n      filterCriteria: {\r\n        ...this.state.filterCriteria,\r\n        carMakers: [\r\n          ...this.state.filterCriteria.carMakers.slice(0, carMakerId),\r\n          {\r\n            ...this.state.filterCriteria.carMakers[carMakerId],\r\n            selected: !this.state.filterCriteria.carMakers[carMakerId].selected,\r\n          },\r\n          ...this.state.filterCriteria.carMakers.slice(carMakerId + 1),\r\n        ],\r\n      },\r\n    });\r\n  };\r\n\r\n  /* Change handler for price range filter on home page */\r\n  changePriceRange = (evt, rangeType) => {\r\n    if (rangeType === \"from\") {\r\n      this.setState({\r\n        ...this.state,\r\n        filterCriteria: {\r\n          ...this.state.filterCriteria,\r\n          priceFrom: evt.target.value,\r\n        },\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        filterCriteria: {\r\n          ...this.state.filterCriteria,\r\n          priceTo: evt.target.value,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  /* Change handler for model year filter on home page */\r\n  changeAgeRange = (evt, ageType) => {\r\n    if (ageType === \"from\") {\r\n      this.setState({\r\n        ...this.state,\r\n        filterCriteria: {\r\n          ...this.state.filterCriteria,\r\n          yearFrom: evt.target.value,\r\n        },\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        filterCriteria: {\r\n          ...this.state.filterCriteria,\r\n          yearTo: evt.target.value,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  /* accepts the carId and returns the corresponding car object */\r\n  getCarDetails = (carId) => {\r\n    return this.state.cars.find((car) => car._id === carId);\r\n  };\r\n\r\n  /* Add to cart action handler on car details page */\r\n  addToCart = (carId) => {\r\n    const carIndex = this.state.cart.findIndex((car) => car.carId === carId);\r\n\r\n    if (carIndex !== -1) {\r\n      this.setState({\r\n        ...this.state,\r\n        cart: [\r\n          ...this.state.cart.slice(0, carIndex),\r\n          { carId, quantity: this.state.cart[carIndex].quantity + 1 },\r\n          ...this.state.cart.slice(carIndex + 1),\r\n        ],\r\n      });\r\n    } else {\r\n      const carToAdd = {\r\n        carId,\r\n        quantity: 1,\r\n      };\r\n      this.setState({\r\n        ...this.state,\r\n        cart: [...this.state.cart, carToAdd],\r\n      });\r\n    }\r\n  };\r\n\r\n  /* Add to bookmarks action handler on car details page */\r\n  addToBookmark = (carId) => {\r\n    const car = this.getCarDetails(carId);\r\n    const bookmarks =\r\n      localStorage.getItem(\"bookmarks\") === null\r\n        ? []\r\n        : JSON.parse(localStorage.getItem(\"bookmarks\"));\r\n\r\n    bookmarks.push(car);\r\n\r\n    localStorage.setItem(\"bookmarks\", JSON.stringify(bookmarks));\r\n  };\r\n\r\n  /* Toggles filter panel in mobile view */\r\n  handleToggleFilterPanel = () =>\r\n    this.setState({\r\n      ...this.state,\r\n      toggleFilterPanel: !this.state.toggleFilterPanel,\r\n    });\r\n\r\n  render() {\r\n    const cars = applySortingAndFiltering(this.state);\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <Header />\r\n\r\n        <Switch>\r\n          {/* Home page displaying cars grid with search and filtering panel */}\r\n          <Route exact path=\"/\">\r\n            <car-list ref={this.myRef}></car-list>\r\n          </Route>\r\n\r\n          {/* Car details page displayed when cliked on any othe cars on the home page.\r\n          It displays car details and some actions like bookmark, add to cart and go to cart */}\r\n          <Route\r\n            exact\r\n            path=\"/car-details/:carId\"\r\n            children={<car-details ref={this.myRef}></car-details>}\r\n          ></Route>\r\n\r\n          {/* Cart page showing list of cars in the cart and total cost */}\r\n          <Route\r\n            exact\r\n            path=\"/cart\"\r\n            children={<cart-element ref={this.myRef}></cart-element>}\r\n          ></Route>\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}